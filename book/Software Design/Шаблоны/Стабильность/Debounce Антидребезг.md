---
tags:
  - SoftwareDesign/Patterns/Debounce
---

Данный шаблон ограничивает частоту вызова функции, вследствие чего выполняется только первый или последний вызов в группе. 

## Компоненты

- Circuit - функция, частота вызова которой должна ограничиваться
- Debounce - функция-замыкание с той же сигнатурой, что и Circuit

## Реализация

При каждом вызове внешней функции - независимо от результата - устанавливается временной интервал. Любой последующий вызов, выполненный до истечения интервала, игнорируется. 

Можно использовать в паре с CircuitBreaker 

```go
wrapped := Breaker(Debounce(myFunction))

response, err := wrapped(ctx)
```

## Пример кода 

Вариант "по первому вызову"

Достаточно хранить лишь время последнего вызова и просто возвращать кешированный результат, если следующая попытка вызова была предпринята в пределах заданного интервала времени.

[ссылка на код](https://github.com/Isotere/awesome-dev-book/blob/master/code/go_lang/software_tpls/debounce/main.go)

