---
tags:
  - Architecture/Clean/Cohesion
---
## Связность компонентов

### Принцип эквивалентности повторного использования и выпусков (REP)

> Единица повторного использования - есть единица выпуска.

Классы и модули, составляющие компонент, должны принадлежать связной группе. Должна быть какая-то тема или цель, общая 
для всех модулей.

Классы и модули, объединяемые в компонент, должны выпускаться вместе. С номером версии и документацией по обновлению.

### Принцип согласованного изменения (CCP)

> В один компонент должны включаться классы, изменяющиеся по одним причинам и в одно время. В разные компоненты 
> должны включаться классы, изменяющиеся в разное время и по разным причинам.

Если возникнет необходимость изменить код приложения, предпочтительнее, если все изменения будут сосредоточены в одном месте,
а не разбросаны по разным компонентам. Если изменения ограничиваются только одним компонентом, нам будет необходимо развернуть только один
изменившийся компонент.

Этот принцип реализует принципы SOLID SRP && OCP, но для компонентов.

> Собирайте вместе все, что изменяется по одной причине и в одно время. 
> Разделяйте все, что изменяется в разное время и по разным причинам.

### Принцип повторного совместного использования (CRP)

> Не вынуждайте пользователей компонента зависеть от того, чего им не требуется.

В компонент должны включаться классы и модули, используемые совместно.

Пример: класс коллекции и связанные с ним итераторы.

Когда образуется зависимость от компонента, желательно, чтобы она распространялась на все классы этого компонента. 
Классы компонента должны быть неотделимы друг от друга - нельзя зависеть от одних и не зависеть от других.

>  CRP больше говорит о том, какие классы НЕ должны объединяться, чем о том какие должны.

### Противоречия принципов

Первый и второй - включительные принципы: оба стремятся сделать компоненты как можно крупнее. Последний же - исключительный: 
стремится сделать компоненты как можно меньше. 

Задача архитектора найти баланс.

